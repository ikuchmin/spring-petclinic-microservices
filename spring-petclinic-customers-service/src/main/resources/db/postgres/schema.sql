CREATE TABLE IF NOT EXISTS types (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   name VARCHAR,
   CONSTRAINT pk_types PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS owners (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   first_name VARCHAR,
   last_name VARCHAR,
   address VARCHAR,
   city VARCHAR,
   telephone VARCHAR,
   CONSTRAINT pk_owners PRIMARY KEY (id)
);

CREATE TABLE IF NOT EXISTS pets (
  id INTEGER GENERATED BY DEFAULT AS IDENTITY NOT NULL,
   name VARCHAR,
   birth_date date,
   type_id INTEGER,
   owner_id INTEGER,
   CONSTRAINT pk_pets PRIMARY KEY (id)
);

ALTER TABLE pets DROP CONSTRAINT IF EXISTS FK_PETS_ON_OWNER;
ALTER TABLE pets ADD CONSTRAINT FK_PETS_ON_OWNER FOREIGN KEY (owner_id) REFERENCES owners (id);

ALTER TABLE pets DROP CONSTRAINT IF EXISTS FK_PETS_ON_TYPE;
ALTER TABLE pets ADD CONSTRAINT FK_PETS_ON_TYPE FOREIGN KEY (type_id) REFERENCES types (id);
